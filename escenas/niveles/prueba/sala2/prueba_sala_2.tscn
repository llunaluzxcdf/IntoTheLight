[gd_scene load_steps=9 format=4 uid="uid://oqs28k7sases"]

[ext_resource type="Script" uid="uid://bse6ye3xiuj6r" path="res://scripts/salas_match_position.gd" id="1_i5i1g"]
[ext_resource type="Texture2D" uid="uid://bx7fgcwrgdv8d" path="res://tile_sets/tileset_mazmorra.png" id="2_kruk0"]
[ext_resource type="PackedScene" uid="uid://bl36h3qyxbcet" path="res://escenas/personaje/personaje.tscn" id="3_l0nr2"]
[ext_resource type="Script" uid="uid://b2pv6wseiwdg7" path="res://scripts/puerta.gd" id="4_iedsm"]
[ext_resource type="PackedScene" uid="uid://m6fxul2tif0w" path="res://escenas/enemigos/fantasma_01/fantasma.tscn" id="5_74dax"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ov8gy"]
texture = ExtResource("2_kruk0")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
0:3/0 = 0
0:3/0/physics_layer_1/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_ucj66"]
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 21
physics_layer_1/collision_layer = 32
physics_layer_1/collision_mask = 4
sources/0 = SubResource("TileSetAtlasSource_ov8gy")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0ehbl"]
size = Vector2(32, 64)

[node name="Cueva_Sala2" type="Node2D" node_paths=PackedStringArray("entrada_izq")]
script = ExtResource("1_i5i1g")
entrada_izq = NodePath("puertita_)/CollisionShape2D")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAD2//z/AAAAAAAAAAD2//v/AAAAAAAAAAD2//r/AAAAAAAAAAD3//r/AAAAAAAAAAD4//r/AAAAAAAAAAD5//r/AAAAAAAAAAD6//r/AAAAAAAAAAD7//r/AAAAAAAAAAD8//r/AAAAAAAAAAD9//r/AAAAAAAAAAD+//r/AAAAAAAAAAD///r/AAAAAAAAAAAAAPr/AAAAAAAAAAABAPr/AAAAAAAAAAACAPr/AAAAAAAAAAADAPr/AAAAAAAAAAAEAPr/AAAAAAAAAAAFAPr/AAAAAAAAAAAGAPr/AAAAAAAAAAAHAPr/AAAAAAAAAAAIAPr/AAAAAAAAAAAJAPr/AAAAAAAAAAAKAPr/AAAAAAAAAAALAPr/AAAAAAAAAAD2////AAAAAAAAAAD2/wAAAAAAAAAAAAD2/wEAAAAAAAAAAAD2/wIAAAAAAAAAAAD2/wMAAAAAAAAAAAD2/wQAAAAAAAAAAAD2/wUAAAAAAAAAAAD3/wUAAAAAAAAAAAD4/wUAAAAAAAAAAAD5/wUAAAAAAAAAAAD6/wUAAAAAAAAAAAD7/wUAAAAAAAAAAAD8/wUAAAAAAAAAAAD9/wUAAAAAAAAAAAD+/wUAAAAAAAAAAAD//wUAAAAAAAAAAAABAAUAAAAAAAAAAAACAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAUAAAAAAAAAAAAGAAUAAAAAAAAAAAAHAAUAAAAAAAAAAAAIAAUAAAAAAAAAAAAJAAUAAAAAAAAAAAAKAAUAAAAAAAAAAAALAAUAAAAAAAAAAAALAAEAAAAAAAAAAAALAAAAAAAAAAAAAAALAP//AAAAAAAAAAALAP7/AAAAAAAAAAALAP3/AAAAAAAAAAALAPz/AAAAAAAAAAALAPv/AAAAAAAAAAALAAQAAAAAAAAAAAADAAUAAAAAAAMAAAAEAAUAAAAAAAMAAAALAAIAAAAAAAMAAAALAAMAAAAAAAMAAAD2//7/AAAAAAMAAAD2//3/AAAAAAMAAAA=")
tile_set = SubResource("TileSet_ucj66")

[node name="Personaje" parent="." instance=ExtResource("3_l0nr2")]

[node name="puertita_)" type="Area2D" parent="."]
position = Vector2(-153, -31)
collision_mask = 5
script = ExtResource("4_iedsm")
dire = 1
nextScene = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="puertita_)"]
position = Vector2(-151, -33)
shape = SubResource("RectangleShape2D_0ehbl")

[node name="collisions" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="collisions"]
position = Vector2(-622, -63)
polygon = PackedVector2Array(271, -64, 271, 64, 302, 64, 302, -64)

[node name="Fantasma" parent="." node_paths=PackedStringArray("character") instance=ExtResource("5_74dax")]
position = Vector2(-34, -121)
character = NodePath("../Personaje")
